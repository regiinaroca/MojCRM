@using MojCRM.Areas.Campaigns.Models
@model MojCRM.Areas.Campaigns.ViewModels.EmailBasesCampaignStatusStatsViewModel
    @{
        ViewBag.Title = "Statistika - Statusi obrade po statusu kampanje";
        Layout = "~/Views/Shared/_UserLayoutNew.cshtml";
    }

    <h2>Statistika - Statusi obrade po statusu kampanje</h2>
    <br />
    <div class="alert alert-info">
        <p style="text-align: justify">
            Ovaj statistički pregled donosi podatke o pokrenutim i kapmanjama u tijeku za ažuriranje e-mail adresa korisnika. Statistika prikazuje podatke o:
            <ul>
                <li>broju pokrenutih i kampanja u tijeku</li>
                <li>postotku obrađenosti</li>
                <li>statustima obrade predmeta u kampanjama s određenim statusima</li>
            </ul>
        </p>
    </div>
    <hr />
    <div class="row">
        <div class="widget widget-table">
            <div class="widget-header">
                <h3><i class="fa fa-phone"></i> Pokrenuto</h3> <em>- Statistika kampanja u statusu Pokrenuto (Broj kampanja: @Model.StartedCount)</em>
                <div class="btn-group widget-header-toolbar">
                    <a href="#" title="Fokusiraj" class="btn-borderless btn-focus"><i class="fa fa-eye"></i></a>
                    <a href="#" title="Proširi/Sažmi" class="btn-borderless btn-toggle-expand"><i class="fa fa-chevron-up"></i></a>
                    @*<a href="#" title="Remove" class="btn-borderless btn-remove"><i class="fa fa-times"></i></a>*@
                </div>
            </div>
            <div class="widget-content">
                <table id="start-table" class="table table-sorting">
                    <thead>
                    
                    </thead>
                    <tbody>
                        <tr>
                            <td title="Preostalo za obradu od ukupnog broja kreiranih predmeta">Status obrade: @Model.StartedCreatedCount / @Model.StartedTotalCount</td>
                            <td>
                                <div class="progress" style="width: 500px">
                                    <div class="progress-bar" role="progressbar" aria-valuenow="@Model.StartedPercent" aria-valuemin="0" aria-valuemax="100" style="width: @Model.StartedPercent%;">
                                        @Model.StartedPercent% preostalo
                                    </div>
                                </div>
                            </td>
                        </tr>
                    @foreach (var stat in Model.StartedEntityStatusStats)
                    {
                        <tr>
                            <td>
                                <strong>
                                    @stat.StatusName
                                </strong>
                            </td>

                            <td>
                                @stat.SumOfEntities
                            </td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        </div>
        <br />
        <div class="widget widget-table">
            <div class="widget-header">
                <h3><i class="fa fa-phone"></i> U tijeku</h3> <em>- Statistika kampanja u statusu U tijeku (Broj kampanja: @Model.InProgressCount)</em>
                <div class="btn-group widget-header-toolbar">
                    <a href="#" title="Fokusiraj" class="btn-borderless btn-focus"><i class="fa fa-eye"></i></a>
                    <a href="#" title="Proširi/Sažmi" class="btn-borderless btn-toggle-expand"><i class="fa fa-chevron-up"></i></a>
                    @*<a href="#" title="Remove" class="btn-borderless btn-remove"><i class="fa fa-times"></i></a>*@
                </div>
            </div>
            <div class="widget-content">
                <table id="inprogress-table" class="table table-sorting">
                    <tbody>
                        <tr>
                            <td title="Preostalo za obradu od ukupnog broja kreiranih predmeta">Status obrade: @Model.InProgressCreatedCount / @Model.InProgressTotalCount</td>
                            <td>
                                <div class="progress" style="width: 500px">
                                    <div class="progress-bar" role="progressbar" aria-valuenow="@Model.InProgressPercent" aria-valuemin="0" aria-valuemax="100" style="width: @Model.InProgressPercent%;">
                                        @Model.InProgressPercent% preostalo
                                    </div>
                                </div>
                            </td>
                        </tr>
                    @foreach (var stat in Model.InProgressEntityStatusStats)
                    {
                        <tr>
                            <td>
                                <strong>
                                    @stat.StatusName
                                </strong>
                            </td>

                            <td>
                                @stat.SumOfEntities
                            </td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        </div>
    </div>